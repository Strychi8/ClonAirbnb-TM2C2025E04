<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  
  <title>Erbienbi - Mis Alojamientos</title>
  <link rel="stylesheet" href="../css/styles.css" />

  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    .table-wrap { outline: 3px solid #222; padding: 4px; background: white; }
    table.alojamientos { width: 100%; border-collapse: collapse; table-layout: fixed; }
    col.col-photo { width: 200px; }
    col.col-name   { width: auto; }
    col.col-historial { width: 120px; }
    col.col-edit   { width: 120px; }
    col.col-delete { width: 120px; }
    table.alojamientos th, table.alojamientos td { border: 1px solid #222; padding: 20px 10px; text-align: center; vertical-align: middle; background: #f0d9c0; }
    table.alojamientos thead th { font-weight: bold; background: #e8cfae; }
    .foto-cell img { display: block; margin: 0 auto; width: 160px; height: auto; border-radius: 4px; object-fit: cover; }
    .btn-editar, .btn-eliminar, .btn-historial { display: inline-block; width: 100px; padding: 8px 6px; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; }
    .btn-editar { background-color: #2ea44f; color: #fff; }
    .btn-eliminar { background-color: #e5534b; color: #fff; }
    .btn-historial { background-color: #0069d9; color: #fff; }
    .no-data { padding: 24px; text-align: center; background: #f8efe6; }
    .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); }
    .modal-content { background: #fff; margin: 5% auto; padding: 20px; border-radius: 8px; width: 80%; max-height: 80%; overflow-y: auto; }
    .modal-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #ddd; margin-bottom: 10px; }
    .modal-header h2 { margin: 0; }
    .close { cursor: pointer; font-size: 24px; font-weight: bold; }
    .reservas-table { width: 100%; border-collapse: collapse; }
    .reservas-table th, .reservas-table td { border: 1px solid #ccc; padding: 8px; text-align: center; }
    .reservas-table th { background: #eee; }
  </style>
</head>

<body>
  <header>
    <div class="marquee-wrapper">
      <h1 class="marquee-text">-- üè† üè° -- Erbienbi - El Hospedaje que Buscas, al Mejor Precio -- üè° üè† --</h1>
    </div>
  </header>

  <main>
    <section style="margin:24px auto 8px; padding:0 24px;">

      <a href="../index.html"><button type="button" class="btn btn-primary">Volver</button></a>
      <br><br>
      <div class="table-wrap" style="display: flex; max-width: 197px; border-radius: 10px;">
        <div style="flex:1; display:flex; justify-content:center;">
          <a class="btn btn-primary" href="alojamiento_form.html">Agregar Alojamiento</a>
        </div>
      </div>
      <br>


      <div class="table-wrap">
        <table class="alojamientos">
          <colgroup>
            <col class="col-photo">
            <col class="col-name">
            <col class="col-historial">
            <col class="col-edit">
            <col class="col-delete">
          </colgroup>
          <thead>
            <tr>
              <th>Foto</th>
              <th>Nombre del alojamiento</th>
              <th>Historial</th>
              <th>Editar</th>
              <th>Eliminar</th>
            </tr>
          </thead>
          <tbody id="tabla-body">
            <!-- Se cargan din√°micamente -->
          </tbody>
        </table>
      </div>
    </section>
  </main>

  <!-- Modal -->
  <div id="reservasModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="modal-title">Historial de Reservas</h2>
        <span class="close" onclick="cerrarModal()">&times;</span>
      </div>
      <div id="modal-body">
        <p>Cargando reservas...</p>
      </div>
    </div>
  </div>

  <script src="../js/session_utils.js"></script>
  <script src="../js/mis_alojamientos.js"></script>
  <script src="../js/icono.js"></script>
  <script src="../js/regresar_pag_anterior.js"></script>

</body>
</html>
