<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Mi Perfil - Erbienbi</title>
    <link rel="stylesheet" href="../css/formularios.css">
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/perfil.css">

</head>

<body>
    <header>
      <div class="marquee-wrapper">
        <h1 class="marquee-text">
          -- üè† üè° -- Erbienbi - El Hospedaje que Buscas, al Mejor Precio -- üè° üè† --
        </h1>
      </div>
    </header>

    <main class="perfil-container">
        <div class="form-links">
            <a href="../index.html"><button type="button" class="btn btn-primary">Volver al Inicio</button></a>
        </div>
        <div class="perfil-card">
            <div class="perfil-header">
                <div class="perfil-avatar-container">
                    <img id="foto-perfil-img" class="perfil-foto" src="" alt="Foto de perfil" style="display: none;">
                    <div class="perfil-avatar" id="avatar-inicial">U</div>
                </div>
                <h1 id="usuario-nombre">Cargando...</h1>
                <p>Miembro desde <span id="fecha-registro">-</span></p>
            </div>

            <!-- Vista de Solo Lectura -->
            <div class="perfil-info" id="perfil-view">
                <div class="info-header">
                    <h2>Informaci√≥n Personal</h2>
                    <button type="button" class="btn-editar" id="btn-editar">‚úèÔ∏è Editar Perfil</button>
                </div>
                <div class="info-item">
                    <span class="info-label">Nombre de Usuario:</span>
                    <span class="info-value" id="info-nombre">-</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Nombre Completo:</span>
                    <span class="info-value" id="info-nombre-completo">No especificado</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Email:</span>
                    <span class="info-value" id="info-email">-</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Tel√©fono:</span>
                    <span class="info-value" id="info-telefono">No especificado</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Direcci√≥n:</span>
                    <span class="info-value" id="info-direccion">No especificada</span>
                </div>
                <div class="info-item">
                    <span class="info-label">N√∫mero de Identidad:</span>
                    <span class="info-value" id="info-numero-identidad">No especificado</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Fecha de registro:</span>
                    <span class="info-value" id="info-fecha">-</span>
                </div>
            </div>

            <!-- Formulario de Edici√≥n -->
            <div class="perfil-edit" id="perfil-edit" style="display: none;">
                <div class="info-header">
                    <h2>Editar Informaci√≥n Personal</h2>
                </div>
                <form id="form-editar-perfil" enctype="multipart/form-data">
                    <div class="form-group">
                        <label for="edit-nombre">Nombre de Usuario *</label>
                        <input type="text" id="edit-nombre" name="nombre" class="form-control" required>
                        <small class="form-text">Este es tu nombre de usuario interno</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="edit-nombre-completo">Nombre Completo</label>
                        <input type="text" id="edit-nombre-completo" name="nombre_completo" class="form-control" placeholder="Ej: Juan P√©rez Garc√≠a">
                        <small class="form-text">Este nombre se mostrar√° en tu perfil y reservas</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="edit-telefono">Tel√©fono</label>
                        <input type="tel" id="edit-telefono" name="telefono" class="form-control" placeholder="+54 9 11 1234-5678">
                    </div>
                    
                    <div class="form-group">
                        <label for="edit-direccion">Direcci√≥n</label>
                        <input type="text" id="edit-direccion" name="direccion" class="form-control" placeholder="Calle, N√∫mero, Ciudad, Provincia">
                    </div>
                    
                    <div class="form-group">
                        <label for="edit-numero-identidad">N√∫mero de Identidad (DNI/Pasaporte)</label>
                        <input type="text" id="edit-numero-identidad" name="numero_identidad" class="form-control" placeholder="12345678">
                    </div>
                    
                    <div class="form-group">
                        <label for="edit-foto-perfil">Foto de Perfil</label>
                        <input type="file" id="edit-foto-perfil" name="foto_perfil" class="form-control" accept="image/*">
                        <small class="form-text">Formatos: JPG, PNG, GIF, WEBP. Tama√±o m√°ximo: 5MB</small>
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">üíæ Guardar Cambios</button>
                        <button type="button" class="btn btn-secondary" id="btn-cancelar">‚ùå Cancelar</button>
                    </div>
                </form>
            </div>

            <div class="perfil-actions">
                <h2>Configuraci√≥n de Cuenta</h2>
                
                <a href="cambiar_contrasenia.html" class="action-btn">
                    <span class="action-icon">üîí</span>
                    <div class="action-text">
                        <div class="action-title">Cambiar Contrase√±a</div>
                        <div class="action-desc">Actualiza tu contrase√±a por seguridad</div>
                    </div>
                    <span class="action-arrow">‚Ä∫</span>
                </a>

                <a href="../reservas/mis_reservas.html" class="action-btn">
                    <span class="action-icon">üìÖ</span>
                    <div class="action-text">
                        <div class="action-title">Mis Reservas</div>
                        <div class="action-desc">Ve todas tus reservas realizadas</div>
                    </div>
                    <span class="action-arrow">‚Ä∫</span>
                </a>

                <a href="../alojamientos/mis_alojamientos.html" class="action-btn">
                    <span class="action-icon">üè†</span>
                    <div class="action-text">
                        <div class="action-title">Mis Alojamientos</div>
                        <div class="action-desc">Gestiona tus propiedades publicadas</div>
                    </div>
                    <span class="action-arrow">‚Ä∫</span>
                </a>

                <a href="../alojamientos/alojamiento_form.html" class="action-btn">
                    <span class="action-icon">‚ûï</span>
                    <div class="action-text">
                        <div class="action-title">Publicar Alojamiento</div>
                        <div class="action-desc">Agrega una nueva propiedad</div>
                    </div>
                    <span class="action-arrow">‚Ä∫</span>
                </a>

                 <button id="btn-desactivar-cuenta" class="action-btn-danger">
                    <span class="action-icon">üõë</span>
                    <div class="action-text">
                        <div class="action-title">Desactivar Cuenta</div>
                        <div class="action-desc">Oculta tu perfil y desactiva actividad</div>
                    </div>
                    <span class="action-arrow">‚Ä∫</span>
                </button>

                <button id="btn-eliminar-cuenta" class="action-btn-danger">
                    <span class="action-icon">üóëÔ∏è</span>
                    <div class="action-text">
                        <div class="action-title">Eliminar Cuenta</div>
                        <div class="action-desc">Eliminar permanentemente tu cuenta</div>
                    </div>
                    <span class="action-arrow">‚Ä∫</span>
                </button>
            </div>
        </div>
    </main>

    <div id="modal-desactivar" class="modal" aria-hidden="true" role="dialog">
    <div class="modal-backdrop"></div>
    <div class="modal-content" role="document">
        <h3>Desactivar tu cuenta</h3>
        <p>Tu perfil y alojamientos quedar√°n ocultos. Debes cancelar tus reservas futuras como hu√©sped. Podr√°s reactivar tu cuenta cuando quieras.</p>

        <label for="motivo-desactivar">Motivo principal</label>
        <select id="motivo-desactivar" required>
        <option value="">Seleccion√°‚Ä¶</option>
        <option value="descanso">Necesito un descanso</option>
        <option value="seguridad">Seguridad/privacidad</option>
        <option value="notificaciones">Demasiadas notificaciones</option>
        <option value="problemas">Problemas con reservas/pagos</option>
        <option value="otro">Otro</option>
        </select>

        <label for="detalle-desactivar">Detalles (opcional)</label>
        <textarea id="detalle-desactivar" placeholder="Contanos si quer√©s‚Ä¶"></textarea>

        <div class="modal-actions">
        <button id="confirmar-desactivar" class="btn btn-primary">Desactivar</button>
        <button id="cerrar-desactivar" class="btn btn-secondary">Cancelar</button>
        </div>
    </div>
    </div>

    <script src="../js/session_utils.js"></script>
    <script src="../js/perfil_usuario.js"></script>
    <script src="../js/icono.js"></script>

</body>
</html>
